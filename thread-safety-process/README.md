## Thread safety process
You need to implement a function that simulates a bank account system. Multiple users can simultaneously access and update their account balance. Your system must ensure that concurrent access does not result in race conditions.
Implement the function that:
- Deposits money into an account.
- Withdraws money from an account (ensuring there's enough balance).
- Ensures thread-safety while handling concurrent deposits and withdrawals.

## Solution